<!DOCTYPE html>
<html lang="en">

<!--------------------------------------------------head------------------------------------------------------------->
<head>
    
    <%- include('./partials/head') %>
    
    <link rel="stylesheet" href="/css/userEditingForm.css">
 

    <title>About-us</title>
</head>
<!--------------------------------------------------body------------------------------------------------------------->
 <body>
<!-------------------------------------------------header------------------------------------------------------------> 
<header>
    
    <%- include('./partials/header') %>
    
         
</header>

<!-------------------------------------------------main------------------------------------------------------------>    
    <main>
        <h1 class="titular-uno"><strong>¡Modifiquemos esa info!</strong></h1>
        <section class="section-registro">
            <section class="registro-dos">
                <form class="form-registro" action="/user/<%=user.id%>/edit?_method=PUT" method="POST" enctype="multipart/form-data">
                    
                    <h3 class="titular-dos"><strong>Formulario de edición</strong></h3>
                    
                    <fieldset>
                    <label>Nombre:</label>
                    <input type="text" name="firstName" id="firstName" placeholder="Nombre" class= "usuarioNombre" required value= <%= (user.firstName) ? user.firstName : (locals.errors && locals.old) ? old.firstName : "" %> >
                    
                    <label>Apellido:</label>
                    <input type="text" name="lastName" id="lastName" placeholder="Apellido" class= "usuarioNombre" required value= <%= (user.lastName) ? user.lastName : (locals.errors && locals.old) ? old.lastName : "" %> >
                    
                    
                    <label>Imagen de perfil actual:</label>
                    <fieldset>
                        <figure id="figure-user-image-form">
                            <img src="/img/users/<%=user.avatar%>" alt="" id="user-imagen-form">
                        </figure>
                    </fieldset>

                    <label for="avatar">Seleccionar imagen de perfil</label>
                    <input type="file" name="avatar" id="avatar" class= "usuarioNombre" required>
                    <% if (locals.errors && errors.avatar) { %>
                        <p id="text-danger">
                            <%= errors.avatar.msg %> 
                        </p>
                       <% } %>

                    <label>Email:</label>
                    <input type="email" name="email" id="email" placeholder= "Email" class="usuarioNombre" required disabled value= <%= (user.email) ? user.email : (locals.errors && locals.old) ? old.email : "" %>>

                    <% if (locals.errors && errors.email) { %>
                        <p id="text-danger">
                            <%= errors.email.msg %> 
                        </p>
                       <% } %>
           



                    <label>Fecha de Nacimiento:</label>
                    <input class="fecha-nac" type="date" name="birthDate" min="1930-01-01" max="2019-12-30" value="">

                    <% if (locals.errors && errors.fecha) { %>
                        <p id="text-danger">
                            <%= errors.birthDate.msg %> 
                        </p>
                       <% } %>
                    
                    <label>Domicilio:</label>
                    <input type="text" name="adress" id="adress" placeholder="Dirección" class="usuarioNombre" required value= <%= (user.adress) ? user.adress : (locals.errors && locals.old) ? old.adress : "" %> >
                    
                    <label>Número de contacto:</label>
                    <input type="tel" name="phoneNumber" id="phoneNumber" placeholder="Telefono" class= "usuarioNombre" required value= <%= (user.phoneNumber) ? user.phoneNumber : (locals.errors && locals.old) ? old.phoneNumber : "" %>> 

                    <label>País:</label>
                    <input type="text" name="country" id="country" placeholder="Pais" class="usuarioNombre" required
                    value=<%= (user.country) ? user.country : (locals.errors && locals.old) ? old.country : "" %>> 
                    
                    <label>Contraseña:</label>
                    <input type="password" name="password" id="password" placeholder="Contraseña" class="usuarioNombre">
                    
                    <label>Confirmar contraseña:</label>
                    <input type="password" name="passwordConfirm" id="passwordConfirm" placeholder="Confirmar contraseña" class="usuarioNombre">
                    </fieldset>

                    <fieldset class="opciones-pago">
                        <h3 class="opciones">Seleccionar opciones de contribución</h3>

                       <% for( let i = 0; i < mediosDePago.length; i++ ) { %>

                        <label for="">

                            <input class="forma-pago" type="checkbox" name="medio_de_pago" value= "<%= mediosDePago[i].id %>" 
                            

                            <%= (user.MedioDePago.find(e => e.id == mediosDePago[i].id)) ? "checked" : "" %>
                                
                            > <%= mediosDePago[i].medio_de_pago %>
                            
                        </label>

                       <% } %>
                        

                    </fieldset>
                    
                    <button class="button-dos">Enviar</button>
                
                </form>
                
            </section>

        </section>
    </main>
<!--------------------------------------------------footer------------------------------------------------------------->
    <footer>

        <%- include('./partials/footer') %>

    </footer>

</body>

</html>